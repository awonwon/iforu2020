(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{243:function(s,t,a){s.exports=a.p+"assets/img/s3_01.b75fc015.png"},244:function(s,t,a){s.exports=a.p+"assets/img/s3_02.ea678ba7.png"},245:function(s,t,a){s.exports=a.p+"assets/img/s3_03.bfedc3b5.png"},246:function(s,t,a){s.exports=a.p+"assets/img/s3_04.85d3315e.png"},247:function(s,t,a){s.exports=a.p+"assets/img/s3_05.3129b4e7.png"},248:function(s,t,a){s.exports=a.p+"assets/img/s3_06.30d3ac66.png"},347:function(s,t,a){"use strict";a.r(t);var n=a(17),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"hicloud-s3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hicloud-s3"}},[s._v("#")]),s._v(" hicloud S3")]),s._v(" "),n("h2",{attrs:{id:"新增-設定-bucket"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新增-設定-bucket"}},[s._v("#")]),s._v(" 新增/設定 Bucket")]),s._v(" "),n("p",[s._v("新增 "),n("code",[s._v("edm")]),s._v(" bucket 並設定允許公開存取。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(243),alt:"s3_01",title:"s3_01"}}),s._v(" "),n("img",{attrs:{src:a(244),alt:"s3_02",title:"s3_02"}}),s._v(" "),n("img",{attrs:{src:a(245),alt:"s3_03",title:"s3_03"}}),s._v(" "),n("img",{attrs:{src:a(246),alt:"s3_04",title:"s3_04"}})]),s._v(" "),n("p",[s._v("Bucket Policy")]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2012-10-17"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Statement"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Sid"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PublicRead"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Effect"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Allow"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Principal"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Action"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s3:GetObject"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s3:GetObjectVersion"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"Resource"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arn:aws:s3:::edm"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arn:aws:s3:::edm/*"')]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[n("img",{attrs:{src:a(247),alt:"s3_05",title:"s3_05"}}),s._v(" "),n("img",{attrs:{src:a(248),alt:"s3_06",title:"s3_06"}})]),s._v(" "),n("h2",{attrs:{id:"aws-s3-to-hicloud-s3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-to-hicloud-s3"}},[s._v("#")]),s._v(" AWS S3 to Hicloud S3")]),s._v(" "),n("p",[s._v("備份 AWS S3 的 edm 到 Hicloud S3")]),s._v(" "),n("p",[s._v("install awscli v2")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip"')]),s._v(" -o "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"awscliv2.zip"')]),s._v("\nyum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" awscliv2.zip\n./aws/install   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo ./aws/install")]),s._v("\naws --version\n")])])]),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("aws configure\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("AWS Access Key ID [None]: key id\nAWS Secret Access Key [None]: access key\nDefault region name [None]: ap-northeast-1\nDefault output format [None]:\n")])])]),n("p",[s._v("download from aws.s3")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("aws s3 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" s3://edm.iforu.com.tw/ ./ --recursive\n")])])]),n("p",[s._v("upload to hicloud.s3")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("s3cmd -r put ./ s3://edm/ \n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);