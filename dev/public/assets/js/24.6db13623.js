(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{362:function(t,v,_){"use strict";_.r(v);var r=_(17),e=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"route-table"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#route-table"}},[t._v("#")]),t._v(" Route Table")]),t._v(" "),_("h2",{attrs:{id:"route-指令說明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#route-指令說明"}},[t._v("#")]),t._v(" route 指令說明")]),t._v(" "),_("p",[_("strong",[t._v("route [-A family] add [-host|-net] target [netmask] [gw] [dev if]")])]),t._v(" "),_("ul",[_("li",[t._v("add：新增路由")]),t._v(" "),_("li",[t._v("del：刪除路由")]),t._v(" "),_("li",[t._v("host：表示目標是主機")]),t._v(" "),_("li",[t._v("net：表示目標是網路區段")]),t._v(" "),_("li",[t._v("target：目的地的網路或主機，可用host/network表示(ex: 192.168.10.10/32)")]),t._v(" "),_("li",[t._v("netmask：子網路遮罩")]),t._v(" "),_("li",[t._v("gw：透過gateway來路由封包。要特別注意必須要先能連到gateway")]),t._v(" "),_("li",[t._v("dev if：例如 dev eth0，若dev參數放在最後可以省略")]),t._v(" "),_("li",[t._v("metric：hop的數量，愈多hop表示通過的節點愈多")])]),t._v(" "),_("h2",{attrs:{id:"example"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" EXAMPLE")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("新增一個靜態路由，該路由透過eth0傳送\n"),_("strong",[t._v("EX：route add -net 192.168.10.0/24 gw 192.168.1.254 dev eth0")])])]),t._v(" "),_("li",[_("p",[t._v("新增預設閘道\n"),_("strong",[t._v("EX：route add default gw 192.168.1.254")])])]),t._v(" "),_("li",[_("p",[t._v("新增靜態主機路由\n"),_("strong",[t._v("EX：route add 192.168.20.10/32 gw 192.168.1.254 dev eth0")])])]),t._v(" "),_("li",[_("p",[t._v("查看路由表\n"),_("strong",[t._v("route -n")])])])]),t._v(" "),_("h2",{attrs:{id:"永久路由設定"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#永久路由設定"}},[t._v("#")]),t._v(" 永久路由設定")]),t._v(" "),_("ul",[_("li",[t._v("route指令不支援永久路由，重開機後之前的設定就洗掉了，要建立永久路由有以下幾種方式")])]),t._v(" "),_("ol",[_("li",[t._v("設定在/etc/sysconfig/network-scripts/route-xxx  註：xxx為網卡編號")])]),t._v(" "),_("ul",[_("li",[t._v("此檔案的語法如下")])]),t._v(" "),_("div",{staticClass:"language-sh extra-class"},[_("pre",{pre:!0,attrs:{class:"language-sh"}},[_("code",[_("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ADDRESSn")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NETMASKn")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GATEWAYn")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n")])])]),_("p",[_("strong",[t._v("註1：n建議由0開始慢慢加上去")]),t._v(" "),_("strong",[t._v("註2：若沒有GATEWAY參數就不需要寫")]),t._v(" "),_("strong",[t._v("註3：若有GATEWAY參數那GATEWAY要能連的到，否則GATEWAY設定不會生效")]),t._v(" "),_("strong",[t._v("註4：若有好幾組靜態路由，就一直寫下去，記得n的號碼要加1")])]),t._v(" "),_("ol",{attrs:{start:"2"}},[_("li",[t._v("設定在/etc/rc.local (此方法已逐漸棄用)：直接把要新增的route指令貼在裡面即可")])]),t._v(" "),_("ul",[_("li",[t._v("DNS 修改 "),_("code",[t._v("/etc/resolv.conf")])])]),t._v(" "),_("div",{staticClass:"language-sh extra-class"},[_("pre",{pre:!0,attrs:{class:"language-sh"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/resolv.conf\n\nnameserver "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".8.8\nnameserver "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".4.4\n")])])]),_("h2",{attrs:{id:"note"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[t._v("#")]),t._v(" "),_("strong",[t._v("NOTE")])]),t._v(" "),_("ul",[_("li",[t._v("外雲環境 route table IP 設定 (在有SLB的情況下)")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("IP / Subnet")]),t._v(" "),_("th",[t._v("gateway")]),t._v(" "),_("th",[t._v("Memo")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("10.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("CHT Intra")])]),t._v(" "),_("tr",[_("td",[t._v("13.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS CDN")])]),t._v(" "),_("tr",[_("td",[t._v("52.219.0.0/16")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS S3")])]),t._v(" "),_("tr",[_("td",[t._v("210.71.204.90/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("hicloud S3")])]),t._v(" "),_("tr",[_("td",[t._v("210.71.204.91/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("hicloud S3")])]),t._v(" "),_("tr",[_("td",[t._v("203.66.154.72/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("credit card")])]),t._v(" "),_("tr",[_("td",[t._v("59.120.49.152/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("credit card")])]),t._v(" "),_("tr",[_("td",[t._v("60.250.165.53/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("credit card")])]),t._v(" "),_("tr",[_("td",[t._v("59.120.21.85/32")]),t._v(" "),_("td",[t._v("10.191.73.254")]),t._v(" "),_("td",[t._v("eATM")])]),t._v(" "),_("tr",[_("td",[t._v("60.199.80.1/32")]),t._v(" "),_("td",[t._v("10.191.73.254")]),t._v(" "),_("td",[t._v("eATM")])]),t._v(" "),_("tr",[_("td",[t._v("61.219.31.184/32")]),t._v(" "),_("td",[t._v("10.191.73.254")]),t._v(" "),_("td",[t._v("eATM")])]),t._v(" "),_("tr",[_("td",[t._v("52.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("44.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("34.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("35.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("AWS SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("172.217.0.0/16")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("Google Analytics")])]),t._v(" "),_("tr",[_("td",[t._v("216.58.200.0/24")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("Google Analytics")])]),t._v(" "),_("tr",[_("td",[t._v("10.191.33.1/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("CHT SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("10.191.33.2/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("CHT SMTP")])]),t._v(" "),_("tr",[_("td",[t._v("10.180.17.130/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("IAS sftp Server")])]),t._v(" "),_("tr",[_("td",[t._v("10.190.251.47/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("VM LOG")])]),t._v(" "),_("tr",[_("td",[t._v("202.39.165.13/32")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("iServer")])]),t._v(" "),_("tr",[_("td",[t._v("38.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrors.fedoraproject.org")])]),t._v(" "),_("tr",[_("td",[t._v("35.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrorlist.centos.org")])]),t._v(" "),_("tr",[_("td",[t._v("85.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrorlist.centos.org")])]),t._v(" "),_("tr",[_("td",[t._v("67.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrorlist.centos.org")])]),t._v(" "),_("tr",[_("td",[t._v("147.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrorlist.centos.org")])]),t._v(" "),_("tr",[_("td",[t._v("18.0.0.0/8")]),t._v(" "),_("td",[t._v("10.191.73.253")]),t._v(" "),_("td",[t._v("mirrorlist.centos.org")])])])])])}),[],!1,null,null,null);v.default=e.exports}}]);