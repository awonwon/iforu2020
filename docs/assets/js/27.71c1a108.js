(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{359:function(e,a,r){"use strict";r.r(a);var s=r(17),t=Object(s.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"firewalld"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#firewalld"}},[e._v("#")]),e._v(" firewalld")]),e._v(" "),r("p",[e._v("show current policy")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# firewall-cmd --get-active-zones")]),e._v("\nfirewall-cmd --list-all\n")])])]),r("h2",{attrs:{id:"bastion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bastion"}},[e._v("#")]),e._v(" bastion")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 主機弱掃來源IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-source"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"203.75.129.122/32"')]),e._v(" --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# higate public ip")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="202.39.167.144" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# AWS 正式環境跳板機 IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="35.164.19.80" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cockpit --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh --permanent\nfirewall-cmd --reload\n")])])]),r("h2",{attrs:{id:"front-restapi-admin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#front-restapi-admin"}},[e._v("#")]),e._v(" front / restapi / admin")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 主機弱掃來源IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-source"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"203.75.129.122/32"')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("https --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Hicloud 跳板機 IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="192.168.50.1" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cockpit --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh --permanent\nfirewall-cmd --reload\n")])])]),r("h2",{attrs:{id:"pgsql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pgsql"}},[e._v("#")]),e._v(" pgsql")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 主機弱掃來源IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-source"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"203.75.129.122/32"')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("postgresql --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Hicloud 跳板機 IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="192.168.50.1" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cockpit --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh --permanent\nfirewall-cmd --reload\n")])])]),r("h2",{attrs:{id:"redis-solr"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-solr"}},[e._v("#")]),e._v(" redis/solr")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 主機弱掃來源IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-source"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"203.75.129.122/32"')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("redis --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-port"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("8983")]),e._v("/tcp --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Hicloud 跳板機 IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="192.168.50.1" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cockpit --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh --permanent\nfirewall-cmd --reload\n")])])]),r("h2",{attrs:{id:"syslog"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#syslog"}},[e._v("#")]),e._v(" syslog")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 主機弱掃來源IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-source"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"203.75.129.122/32"')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("syslog --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-port"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("514")]),e._v("/tcp --permanent\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Hicloud 跳板機 IP")]),e._v("\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --add-rich-rule"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'rule family="ipv4" source address="192.168.50.1" port port="22" protocol="tcp" accept\'')]),e._v(" --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cockpit --permanent\nfirewall-cmd --zone"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("public --remove-service"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ssh --permanent\nfirewall-cmd --reload\n")])])])])}),[],!1,null,null,null);a.default=t.exports}}]);