(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{313:function(t,a,e){t.exports=e.p+"docs/security/whitesource/20200306-OSSv2.1.3.pptx"},314:function(t,a,e){t.exports=e.p+"docs/security/whitesource/wss-unified-agent.config"},358:function(t,a,e){"use strict";e.r(a);var s=e(17),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"開源軟體檢測"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#開源軟體檢測"}},[t._v("#")]),t._v(" 開源軟體檢測")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.whitesourcesoftware.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("White Source Software"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("利用 java 套件工具取得程式檔案的 sha1 值清單，而後上傳至開源軟體資料庫的 Server 端比對。\n跟 "),s("a",{attrs:{href:"https://haveibeenpwned.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pwned"),s("OutboundLink")],1),t._v(" 的檢測原理相同。")]),t._v(" "),s("h2",{attrs:{id:"軟體參考文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#軟體參考文件"}},[t._v("#")]),t._v(" 軟體參考文件")]),t._v(" "),s("p",[s("a",{attrs:{href:e(313)}},[t._v("CHTTL White Source Doc")])]),t._v(" "),s("h2",{attrs:{id:"agent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#agent"}},[t._v("#")]),t._v(" Agent")]),t._v(" "),s("p",[t._v("登入後下載設定檔與 jar 檔，並上傳至待測主機 /opt/wss 資料夾中：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.boxe.cht.com.tw/CgnyHV/ICTINV/wss-unified-agent.config?a=AFjaCRSon7Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("config"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.boxe.cht.com.tw/CgnyHV/ICTINV/wss-unified-agent.zip?a=-NQV8rwg0n0",target:"_blank",rel:"noopener noreferrer"}},[t._v("jar"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("注意需設定各台受測主機的 config")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("productName=8080\nprojectName=IFORU_{hostname}\n")])])]),s("h2",{attrs:{id:"jre"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jre"}},[t._v("#")]),t._v(" JRE")]),t._v(" "),s("ul",[s("li",[t._v("Java JDK 11(建議版本)")]),t._v(" "),s("li",[t._v("Java JDK 8")]),t._v(" "),s("li",[t._v("Java JRE 8")])]),t._v(" "),s("h3",{attrs:{id:"安裝版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安裝版"}},[t._v("#")]),t._v(" 安裝版")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("java -version\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" java-1.8.0-openjdk.x86_64\n")])])]),s("h3",{attrs:{id:"免安裝"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#免安裝"}},[t._v("#")]),t._v(" 免安裝")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://jdk.java.net/archive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenJDK Download"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf openjdk-11.0.2_linux-x64_bin.tar.gz\n")])])]),s("h2",{attrs:{id:"檢測"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#檢測"}},[t._v("#")]),t._v(" 檢測")]),t._v(" "),s("p",[t._v("開源軟體資料庫伺服器連結位置："),s("a",{attrs:{href:"https://saas.whitesourcesoftware.com/agent",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://saas.whitesourcesoftware.com/agent"),s("OutboundLink")],1),t._v("\n依受測主機網路環境可分兩種檢測模式：")]),t._v(" "),s("ul",[s("li",[t._v("Online Mode: 在受測主機取得清單後直接上傳到 server。")]),t._v(" "),s("li",[t._v("Offline Mode: 在受測主機取得清單檔 "),s("code",[t._v("/opt/wss/whitesource/update-request.txt")]),t._v(" 到其它可連線至伺服器的主機上傳。")])]),t._v(" "),s("p",[t._v("注意事項：")]),t._v(" "),s("ul",[s("li",[t._v("設定的記憶體大小，依當前受測主機的可用記憶體的 "),s("strong",[t._v("2/3")]),t._v("。")]),t._v(" "),s("li",[t._v("若有 "),s("code",[t._v("GC Exception")]),t._v(" 的錯誤訊息，則需使用 Offline Mode 的分批檢測方式。")])]),t._v(" "),s("h3",{attrs:{id:"online-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#online-mode"}},[t._v("#")]),t._v(" Online Mode")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt/wss\n/opt/jdk-11.0.2/bin/java -Xmx4000m -Dfile.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -Dsun.jnu.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -jar wss-unified-agent-20.1.2.jar -d / "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" osstest.log\n")])])]),s("h3",{attrs:{id:"offline-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#offline-mode"}},[t._v("#")]),t._v(" Offline Mode")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt/wss\n/opt/jdk-11.0.2/bin/java -Xmx4000m -Dfile.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -Dsun.jnu.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -jar wss-unified-agent-20.1.2.jar -offline "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" -d / "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" osstest.log\n")])])]),s("p",[t._v("將 /opt/wss/whitesource 中 "),s("code",[t._v("update-request.txt")]),t._v(" 檔案移至可連外網路的主機上，再執下列指令上傳：")]),t._v(" "),s("blockquote",[s("p",[t._v("Offline Mode 的上傳主機要將 Config 中的 productName 及 projectName 註解掉。")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("/opt/jdk-11.0.2/bin/java -Dfile.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -Dsun.jnu.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -jar wss-unified-agent-20.1.2.jar -requestFiles update-request.txt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" offline.log\n")])])]),s("h4",{attrs:{id:"分批檢測"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分批檢測"}},[t._v("#")]),t._v(" 分批檢測")]),t._v(" "),s("ol",[s("li",[t._v("手動將每次産出的清單檔案 "),s("code",[t._v("update-request.txt")]),t._v(" 更名。")]),t._v(" "),s("li",[t._v("第二次以後上傳需加上參數 "),s("code",[t._v("-updateType APPEND")]),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"本機原始碼檢測"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本機原始碼檢測"}},[t._v("#")]),t._v(" 本機原始碼檢測")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:e(314)}},[t._v("config")]),t._v(" (本機檢測用設定檔)")]),t._v(" "),s("li",[t._v("productName=C10")]),t._v(" "),s("li",[t._v("projectName=2020C10_IFORU")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("java -Xmx4096m -Dfile.encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8 -jar wss-unified-agent-20.1.2.jar -d D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UFOdigit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Coding"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("workspace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("i4u"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" osstest.log\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);